<!DOCTYPE html>
<html>
<head>
    <title>WebPrompter | Blizlab</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://unpkg.com/peerjs@1.5.2/dist/peerjs.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <link rel="icon" type="image/svg+xml" href="/assets/favicon.svg">
</head>
<body>
    <div id="edit-mode">
        <div class="header-container">
          <span class="app_icon">ðŸ’¬</span><span class="app_title">WebPrompter.app</span>
        </div>
        <textarea id="script-input" placeholder="1. Open this page on your iPad or Tablet. &#10;2. Paste your script here... &#10;3. Launch and scan the QR code with your Phone to use it as a Remote."></textarea>
        <button class="btn" onclick="startHost()">Launch Prompter & Remote</button>
    </div>

    <div id="prompter-mode">
        <div id="prompter-hud">
            <span>SPEED: <span id="hud-speed">1.0</span></span>
            <span style="margin-left: 20px;">TIME: <span id="hud-time">--:--</span></span>
        </div>

        <div id="scroll-container"><div id="text-display"></div></div>
        <div id="status-bar">WAITING FOR REMOTE...</div>
        <div id="qr-overlay">
            <div id="qrcode" style="padding:20px; background:white; border-radius:10px;"></div>
            <p style="color:var(--yellow); font-weight:bold; margin-top:20px;">Scan with your Phone to open Remote</p>
        </div>
    </div>
    <script src="script.js"></script>
    <script>
        // Check if we are opening as a remote instead of host
        if (window.location.search.includes('remote')) {
            window.location.href = 'remote.html' + window.location.search;
        }
        document.getElementById('script-input').value = settings.text;
    </script>
    <script src="https://cdn.counter.dev/script.js" data-id="dd7fb35a-238d-4948-a5a8-694b141e7608" data-utcoffset="-6"></script>
</body>
</html>
